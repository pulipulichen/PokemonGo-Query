<!DOCTYPE html>
<html>
  <head>
    <title>out-of-ranking-ids</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
	textarea {
		display: block;
		width: 100%;
    height: 30vh;
    min-height: 10em;
	}
	</style>
  </head>
  <body>
    <textarea id="input"></textarea>
    <textarea id="output" onfocus="this.select()"></textarea>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script>
	$('#input').change(() => {
		let ids = $('#input').val().trim().split('\n').join(',').split(',').filter( (value, index, self) => { 
			return self.indexOf(value) === index;
		});
		let query = ids.join('&!')
		query = "!4*&距離0-10&!交換&!暗影&!淨化&!亮晶晶&!" + query
		//console.log(query)
		$('#output').val(query)
	})
	</script>
  </body>
</html>
